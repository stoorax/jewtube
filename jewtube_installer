# jewtube_installer.ps1

Clear-Host
Write-Host "===============================" -ForegroundColor Cyan
Write-Host "  JEWTUBE ENVIRONMENT INSTALLER " -ForegroundColor Cyan
Write-Host "===============================" -ForegroundColor Cyan
Write-Host ""
Write-Host "This script will check and install all required components:" -ForegroundColor White
Write-Host " - Python 3.8+"
Write-Host " - pip"
Write-Host " - yt-dlp"
Write-Host " - ytmusicapi"
Write-Host " - browser_cookie3" -ForegroundColor Yellow
Write-Host ""
Pause

function Wait-User() {
    Read-Host "Press [Enter] to continue..."
}

function Write-WarningColor($msg) { Write-Host "WARNING: $msg" -ForegroundColor Red }
function Write-SuccessColor($msg) { Write-Host "SUCCESS: $msg" -ForegroundColor Green }
function Write-Info($msg)    { Write-Host $msg -ForegroundColor White }

# ... (vorherige Schritte bleiben unverändert) ...

# Beispiel-Fehler-Logging in der Package-Installation-Schleife:
foreach ($pkg in @("ytmusicapi", "browser_cookie3")) {
    try {
        python -c "import $pkg" 2>$null
        if ($LASTEXITCODE -ne 0) { throw "Import failed" }
        Write-SuccessColor "$pkg installed successfully."
    } catch {
        Write-WarningColor "Error installing $pkg: $($_)"
        $errors++
    }
    Wait-User
}

# yt-dlp prüfen
try {
    $ytDlpVersion = yt-dlp --version 2>&1
    Write-SuccessColor "yt-dlp installed successfully: Version $ytDlpVersion"
} catch {
    Write-WarningColor "Error installing yt-dlp: $($_)"
    $errors++
}
Wait-User

# Abschlussmeldung
if ($errors -eq 0) {
    Write-SuccessColor "All dependencies installed successfully. Environment is ready for Jewtube."
} else {
    Write-WarningColor "Some components failed to install. Please check manually before using Jewtube."
}
Wait-User

Write-Host ""
Write-Host "=== Installer completed ===" -ForegroundColor Cyan
Wait-User
